<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Погоди Број!</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        var number=Math.floor((Math.random()*(9999-1000)+1000))
        console.log(number)
        var numberArray=number.toString().split("");
        var count=0;
        function PogodiBroj(){
            var input=document.getElementById('guess')
            count++;
            if (count<=10){
                if (parseInt(input.value)===number){
                    document.getElementById('prikaz').innerText+="ПОГОДОК!!!";

                }else {
                    var inputArray=input.value.split("");
                    $("#obid").text("Обиди "+count);
                    var have=inputArray.filter(x=>numberArray.includes(x)).length;
                    var naMesto=inputArray.filter(x=>inputArray.indexOf(x)===numberArray.indexOf(x)).length;
                    document.getElementById('prikaz').innerText+="Го внесовте брјот: "+input.value+" - Погодивте "+have+" цифри, од кои "
                        +naMesto+" се на точното место! \n";

                    input.value="";
                }
            }
            if (count===10 && parseInt(input.value)!==number){
                document.getElementById('prikaz').innerText+="\n Не успеавте да погодите од 10 обиди! Бараниот број е "+number+"\n";
            }
        }
        function Pocetok(){
            $("#obid").text("Обиди 0");
            number=Math.floor((Math.random()*10000)+1)
            document.getElementById('prikaz').innerText="";
            document.getElementById('guess').value="";
            count=0;
        }

    </script>
    <style>
        .main{
            margin-left: 33%;
            margin-top: 3%;
            border-style: double;
            height: 150px;
            width: 300px;
            padding-top: 37px;
            padding-left: 40px;
        }
    </style>
</head>
<body>
<div style="margin-left: 28%;margin-top: 3%;padding-top: 35px"><strong>Внесете четирицифрен број и обидете се да го погодите точниот број.</strong></div>
<div class="main">
<div style="text-align:right; float:left">
    <label id="obid">Обиди 0</label>
    <p>Погодок: <input id="guess" style="width:150px"/></p>
    <button onclick="PogodiBroj()">Погоди</button>
    <button onclick="Pocetok()">Од почеток</button>
</div>
</div>
<br>

<div id="prikaz" style="clear:both; margin-left: 27%"></div>
</body>
</html>